name: workflow-run

on:
  workflow_run:
    workflows: [pr]
    types:
      - completed

jobs:
  should-run-workflow-run:
    runs-on: ubuntu-latest
    steps:
      - run: |
          conclusion=$(curl ${{ github.event.workflow_run.jobs_url }} | jq '.jobs[] | select(.name == "job2").conclusion')
          echo $conclusion
          should_skip=$([ "$conclusion" = "skipped" ] && echo "true" || echo "false")
          echo $should_skip

  workflow-run:
    runs-on: ubuntu-latest
    steps:
      - run: echo '${{ toJSON(github.event.workflow_run) }}'